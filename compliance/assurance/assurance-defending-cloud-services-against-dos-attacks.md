---
title: サービス拒否攻撃から Microsoft 365 クラウド サービスを保護する
description: この記事では、Microsoft がサービス拒否 (DoS) 攻撃からクラウド サービスを保護する方法について説明します。
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
ms.openlocfilehash: e632c1524d5cc8c21aec9dab3d95d285a3b8801e
ms.sourcegitcommit: 21ed42335efd37774ff5d17d9586d5546147241a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2021
ms.locfileid: "50120576"
---
# <a name="defending-microsoft-365-cloud-services-against-denial-of-service-attacks"></a><span data-ttu-id="fe0c7-103">サービス拒否攻撃から Microsoft 365 クラウド サービスを保護する</span><span class="sxs-lookup"><span data-stu-id="fe0c7-103">Defending Microsoft 365 cloud services against denial-of-service attacks</span></span>

<span data-ttu-id="fe0c7-104">Microsoft データセンターは、境界フェンス、ビデオ カメラ、セキュリティ担当者、生体認証、スマートカード、多要素認証を使用する安全な入口を含む多層防御セキュリティによって保護されています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-104">Microsoft datacenters are protected by defense-in-depth security that includes perimeter fencing, video cameras, security personnel, and secure entrances that use biometrics, smartcard, and multi-factor authentication.</span></span> <span data-ttu-id="fe0c7-105">詳細な防御セキュリティは、施設のすべての領域と各物理サーバー ユニットを通じて継続されます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-105">The defense-in-depth security continues through every area of the facility and to each physical server unit.</span></span> <span data-ttu-id="fe0c7-106">[Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/cloud-platform/global-datacenters)は、クラウド サービスのコア インフラストラクチャと基盤技術を提供します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-106">The [Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/cloud-platform/global-datacenters) delivers the core infrastructure and foundational technologies for our cloud services.</span></span> <span data-ttu-id="fe0c7-107">Microsoft のデータセンターは、物理的なセキュリティと信頼性に関する業界標準に準拠し、Microsoft の運用担当者によって管理、監視、管理されます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-107">Our datacenters comply with industry standards for physical security and reliability and are managed, monitored, and administered by Microsoft operations personnel.</span></span>

<span data-ttu-id="fe0c7-108">Microsoft では、クラウド サービスをさらに保護するために、Microsoft Azure の継続的な監視および侵入テストプロセスの一部である DDoS 防御システムを提供しています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-108">To further protect our cloud services, Microsoft provides a DDoS defense system that is part of the Microsoft Azure continuous monitoring and penetration-testing processes.</span></span> <span data-ttu-id="fe0c7-109">Azure DDoS 防御システムは、外部からの攻撃だけでなく、他の Azure テナントからの攻撃にも対応するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-109">The Azure DDoS defense system is designed not only to withstand attacks from the outside, but also from other Azure tenants.</span></span> <span data-ttu-id="fe0c7-110">Azure では、SYN Cookie、レート制限、接続制限などの標準的な検出と軽減の手法を使用して、DDoS 攻撃から保護します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-110">Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span>

<span data-ttu-id="fe0c7-111">Microsoft のクラウド サービスは、複数のソースからの攻撃の脅威の対象です。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-111">Microsoft's cloud services are subject to the threat of attack from multiple sources.</span></span> <span data-ttu-id="fe0c7-112">さまざまな DoS 脅威を軽減し、保護するために、高度にスケーラブルで動的な Azure ベースの脅威の検出と軽減システムが開発され、DoS 攻撃から基礎となるインフラストラクチャを保護し、クラウド サービスのお客様のサービス中断を防ぐことを主な目的として実装されています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-112">To mitigate and protect against the various DoS threats, a highly-scalable and dynamic Azure-based threat detection and mitigation system have been developed and implemented with the primary objective of protecting the underlying infrastructure from DoS attacks and helping to prevent service interruptions for cloud services customers.</span></span> <span data-ttu-id="fe0c7-113">Azure DoS 軽減策システムは、受信、送信、地域間のトラフィックを保護します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-113">The Azure DoS mitigation system protects inbound, outbound, and region-to-region traffic.</span></span>

<span data-ttu-id="fe0c7-114">Open [Systems Interconnection](/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) モデルのネットワーク (L3) レイヤーとトランスポート (L4) レイヤーでターゲットに対して起動された DoS 攻撃のほとんど。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-114">Most DoS attacks launched against targets at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model.</span></span> <span data-ttu-id="fe0c7-115">L3 レイヤーと L4 層に向けられた攻撃は、ネットワーク インターフェイスやサービスに攻撃トラフィックを使い込み、リソースを圧倒し、正当なトラフィックに対応する能力を拒否するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-115">Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic.</span></span> <span data-ttu-id="fe0c7-116">具体的には、L3 および L4 攻撃は、ネットワーク リンク、デバイス、またはサービスの容量を飽和状態にするか、アプリケーションをサポートするサーバーまたは仮想マシンの CPU を圧倒します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-116">Specifically, L3 and L4 attacks attempt to either saturate the capacity of network links, devices, or services or overwhelm the CPUs of servers or virtual machines supporting an application.</span></span>

<span data-ttu-id="fe0c7-117">L3 および L4 攻撃から保護するために、Microsoft は、これらのレイヤーを保護することで攻撃を受けたインフラストラクチャと顧客の標的を保護することを目的としたソリューションを設計、開発、および展開しました。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-117">To guard against L3 and L4 attacks Microsoft has designed, developed, and deployed a solution aimed specifically at safeguarding the infrastructure and customer targets that come under attack by protecting these layers.</span></span> <span data-ttu-id="fe0c7-118">インフラストラクチャを保護することで、1 人の顧客を対象とした攻撃トラフィックが、他のお客様に対する副次的損害やネットワークのサービス品質の低下を引き起さなかったりすることを保証します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-118">Protecting the infrastructure ensures that attack traffic intended for one customer does not result in collateral damage or diminished network quality of service for other customers.</span></span> <span data-ttu-id="fe0c7-119">このソリューションでは、データセンター ルーターからのトラフィック サンプリング データを使用します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-119">The solution uses traffic sampling data from datacenter routers.</span></span> <span data-ttu-id="fe0c7-120">このデータは、ネットワーク監視サービスによって分析され、攻撃を検出します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-120">This data is analyzed by a network monitoring service to detect attacks.</span></span> <span data-ttu-id="fe0c7-121">攻撃が検出されると、自動防御メカニズムが開始します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-121">When an attack is detected, automated defense mechanisms kick in.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="fe0c7-122">Application-Level防御</span><span class="sxs-lookup"><span data-stu-id="fe0c7-122">Application-Level Defenses</span></span>
<span data-ttu-id="fe0c7-123">Microsoft エンジニアリング チームは、お客様のデータを保護するために [、Microsoft 運用](https://www.microsoft.com/SDL/OperationalSecurityAssurance) セキュリティ アシュアランスによって定めらた厳格な基準に従います。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-123">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/SDL/OperationalSecurityAssurance) to help protect customer data.</span></span> <span data-ttu-id="fe0c7-124">Microsoft のクラウド サービスは、非常に高い負荷をサポートし、アプリケーション レベルの DoS 攻撃を保護および軽減するために意図的に構築されています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-124">Microsoft's cloud services are intentionally built to support a very high load as well as to protect and mitigate against application-level DoS attacks.</span></span> <span data-ttu-id="fe0c7-125">一部のワークロードでは、サービスが地域の分離と調整機能を使用して複数のグローバル データセンターに分散されるスケールアウト アーキテクチャを実装しました。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-125">We have implemented a scaled-out architecture where services are distributed across multiple global datacenters with regional isolation and throttling features in some of the workloads.</span></span>

<span data-ttu-id="fe0c7-126">各お客様の国または地域は、お客様の管理者がサービスの初期セットアップ時に識別しますが、その顧客のデータの主要な保管場所を決定します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-126">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data.</span></span> <span data-ttu-id="fe0c7-127">顧客データは、プライマリ/バックアップ戦略に従って冗長データセンター間でレプリケートされます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-127">Customer data is replicated between redundant datacenters according to a primary/backup strategy.</span></span> <span data-ttu-id="fe0c7-128">プライマリ データセンターは、アプリケーション ソフトウェアと共に、ソフトウェア上で実行されている主要な顧客データすべてと共にホストします。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-128">A primary datacenter hosts the application software along with all the primary customer data running on the software.</span></span> <span data-ttu-id="fe0c7-129">バックアップ データセンターは自動フェールオーバーを提供します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-129">A backup datacenter provides automatic failover.</span></span> <span data-ttu-id="fe0c7-130">何らかの理由でプライマリ データセンターが機能しなくなると、要求はバックアップ データセンター内のソフトウェアデータと顧客データのコピーにリダイレクトされます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-130">If the primary datacenter ceases to function for any reason, requests are redirected to the copy of the software and customer data in the backup datacenter.</span></span> <span data-ttu-id="fe0c7-131">顧客データは、いつでもプライマリ データセンターまたはバックアップ データセンターで処理できます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-131">At any given time, customer data may be processed in either the primary or the backup datacenter.</span></span> <span data-ttu-id="fe0c7-132">複数のデータセンターにデータを分散すると、1 つのデータセンターが攻撃された場合に影響を受けるサーフェス領域が減少します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-132">Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked.</span></span> <span data-ttu-id="fe0c7-133">さらに、影響を受けるデータセンター内のサービスを回復メカニズムの 1 つとしてセカンダリ データセンターに迅速にリダイレクトし、その逆に (サービスが復元された後にプライマリ データセンターにリダイレクトされる) 場合もあります。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-133">Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter as one of the recovery mechanisms, and vice versa (redirected back to the primary datacenter once service is restored).</span></span>

<span data-ttu-id="fe0c7-134">個々のワークロードには、リソース使用率を管理する組み込み機能が含まれます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-134">Individual workloads include built-in features that manage resource utilization.</span></span> <span data-ttu-id="fe0c7-135">たとえば、Exchange Online と SharePoint Online の調整メカニズムは、DoS 攻撃から防御するための多層的なアプローチの一部です。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-135">For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks.</span></span> <span data-ttu-id="fe0c7-136">Exchange Online ユーザーの調整は、エンド ユーザーが消費するリソースのレベル、リソースが Active Directory、Exchange Online の情報ストア、その他の場所にあるかどうかに基づいて行います。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-136">Throttling for Exchange Online users is based on the level of resources consumed by the end user, whether the resources are in Active Directory, the Exchange Online information store, or elsewhere.</span></span> <span data-ttu-id="fe0c7-137">ユーザーが消費するリソースを制限するために、各クライアントに予算が割り当てられる。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-137">A budget is allocated to each client to limit the resources consumed by a user.</span></span> <span data-ttu-id="fe0c7-138">ユーザー アクティビティとシステム コンポーネントの Exchange Online 調整は、ワークロード管理に [基づいて行います](https://technet.microsoft.com/library/jj150503(v=exchg.150).aspx)。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-138">Exchange Online throttling for user activity and system components is based on [workload management](https://technet.microsoft.com/library/jj150503(v=exchg.150).aspx).</span></span> <span data-ttu-id="fe0c7-139">Exchange Online ワークロードは、Exchange Online のシステム リソース管理のために明示的に定義されている Exchange Online の機能、プロトコル、またはサービスです。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-139">An Exchange Online workload is an Exchange Online feature, protocol, or service that has been explicitly defined for the purposes of Exchange Online system resource management.</span></span> <span data-ttu-id="fe0c7-140">各 Exchange Online ワークロードでは、ユーザー要求またはバックグラウンド作業を実行するために、CPU、メールボックス データベース操作、Active Directory 要求などのシステム リソースが必要です。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-140">Each Exchange Online workload requires system resources such as CPU, mailbox database operations, or Active Directory requests to perform user requests or background work.</span></span> <span data-ttu-id="fe0c7-141">Exchange Online ワークロードの例としては、Outlook on the web、Exchange ActiveSync、メールボックスの移行、メールボックス アシスタントがあります。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-141">Examples of Exchange Online workloads include Outlook on the web, Exchange ActiveSync, mailbox migration, and mailbox assistants.</span></span> <span data-ttu-id="fe0c7-142">テナント管理者は、Exchange 管理シェルを使用して、ユーザーの Exchange ワークロード管理調整設定を管理できます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-142">Tenant administrators can manage Exchange workload management throttling settings for users with the Exchange Management Shell.</span></span> <span data-ttu-id="fe0c7-143">Exchange Online には、PowerShell、Exchange Web サービス、POP と IMAP、Exchange ActiveSync、モバイル デバイス接続、受信者など、さまざまな形式の調整が実装されています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-143">There are various forms of throttling that have been implemented within Exchange Online, including PowerShell, Exchange Web Services, and POP and IMAP, Exchange ActiveSync, mobile device connections, recipients, and more.</span></span> <span data-ttu-id="fe0c7-144">オンプレミスの Exchange 展開の管理者は調整ポリシーを構成することができますが、管理者は Exchange Online の調整ポリシーを構成できません。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-144">While administrators of on-premises Exchange deployments can configure throttling policies, Administrators cannot configure throttling policies for Exchange Online.</span></span>

<span data-ttu-id="fe0c7-145">SharePoint Online での調整の最も一般的なトリガーは、高すぎる頻度で多くのアクションを実行するクライアント側オブジェクト モデル (CSOM) コードです。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-145">The most common trigger for throttling in SharePoint Online is client-side object model (CSOM) code that performs too many actions at too high a frequency.</span></span> <span data-ttu-id="fe0c7-146">CSOM では、1 つの要求で多くのアクションを実行できます。この場合、使用量の制限を超え、ユーザーごとの調整が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-146">With CSOM, many actions can be performed with a single request, which can exceed usage limits and cause per-user throttling.</span></span>

<span data-ttu-id="fe0c7-147">調整の影響を受けかねないアクティビティに関係なく、ユーザーが使用量の制限を超えると、SharePoint Online は、通常は短時間、そのユーザー アカウントからのそれ以上の要求を調整します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-147">Regardless of the activity that might result in throttling, when a user exceeds usage limits, SharePoint Online throttles any further requests from that user account, usually for a short period.</span></span> <span data-ttu-id="fe0c7-148">ユーザーのスロットルが有効である間、そのユーザーによるすべてのアクションは、次の条件に従って調整が期限切れになるまで調整されます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-148">While a user throttle is in effect, all actions by that user are throttled until the throttle expires, according to the following criteria:</span></span>
- <span data-ttu-id="fe0c7-149">ユーザーがブラウザーで直接実行した要求の場合、SharePoint Online は調整情報ページにリダイレクトし、要求は失敗します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-149">For requests performed by the user directly in a browser, SharePoint Online redirects to a throttling information page, and the requests fail.</span></span>
- <span data-ttu-id="fe0c7-150">CSOM 呼び出しを含む他のすべての要求では、SharePoint Online は HTTP ステータス コード 429 ("要求が多すぎます") を返し、要求は失敗します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-150">For all other requests, including CSOM calls, SharePoint Online returns HTTP status code 429 ("too many requests"), and the requests fail.</span></span>

<span data-ttu-id="fe0c7-151">問題のプロセスが使用制限を超え続ける場合、SharePoint Online はプロセスを完全にブロックし、HTTP 状態コード 503 ("サービスを利用できません") を返す可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-151">If the offending process continues to exceed usage limits, SharePoint Online may completely block the process and return HTTP status code 503 ("service unavailable").</span></span>

## <a name="vulnerability-and-penetration-testing"></a><span data-ttu-id="fe0c7-152">脆弱性と侵入テスト</span><span class="sxs-lookup"><span data-stu-id="fe0c7-152">Vulnerability and Penetration Testing</span></span>
<span data-ttu-id="fe0c7-153">Microsoft では[](https://www.microsoft.com/trustcenter/security/threatmanagement)、クラウド サービス、[](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/)仮想マシン (VM)、その他のシステムにマルウェア対策コンポーネントとサービスを使用するなど、最新の高度な脅威からクラウド インフラストラクチャとオンプレミス ネットワークを保護するために、多くのセキュリティ テクノロジとプラクティスを使用しています。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-153">Microsoft uses many [security technologies and practices](https://www.microsoft.com/trustcenter/security/threatmanagement) to [protect its cloud infrastructure](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) and on-premises networks against modern, sophisticated threats, including using antimalware components and services for cloud services, virtual machines (VMs), and other systems.</span></span> <span data-ttu-id="fe0c7-154">Advanced Threat Analytics は、ネットワーク、システム、およびユーザーの通常の使用パターンを監視し、機械学習を使用して、通常の定期的な侵入テストから外した動作にフラグを設定します。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-154">Advanced Threat Analytics, which monitors normal usage patterns for networks, systems, and users, and employs machine learning to flag any behavior that is out of the ordinary, and regular penetration testing.</span></span>

<span data-ttu-id="fe0c7-155">独自の侵入テストを実行し [、Microsoft クラウド](https://technet.microsoft.com/mt784683)統合侵入テスト プログラムをお客様に提供するほか、クラウド サービスに対する定期的な脆弱性評価と侵入テストを実行するサード パーティのセキュリティ担当者と関わり合います。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-155">In addition to performing our own penetration tests and offering to our customers a [Microsoft Cloud Unified Penetration Testing program](https://technet.microsoft.com/mt784683), we also engage with third-party security professionals who perform regular vulnerability assessments of and penetration testing against our cloud services.</span></span> <span data-ttu-id="fe0c7-156">これらのサードパーティの脆弱性評価のレポートは [、Service Trust](https://aka.ms/STP) ポータルと [Service Assurance](https://aka.ms/ServiceAssurance) ポータルからダウンロードできます。</span><span class="sxs-lookup"><span data-stu-id="fe0c7-156">We make the reports from these third-party vulnerability assessments available for download from the [Service Trust](https://aka.ms/STP) and the [Service Assurance](https://aka.ms/ServiceAssurance) portals.</span></span>
