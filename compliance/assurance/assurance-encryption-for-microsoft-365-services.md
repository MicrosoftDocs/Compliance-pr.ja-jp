---
title: Skype、OneDrive、SharePoint、Exchange の暗号化
description: '概要: Skype、OneDrive、SharePoint、Microsoft Teams、Exchange Online の暗号化の説明。'
ms.author: krowley
author: kccross
manager: laurawi
ms.reviewer: sosstah
f1.keywords:
- NOCSH
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_Enterprise
- M365-security-compliance
- Strat_O365_Enterprise
- SPO_Content
- MS-Compliance
titleSuffix: Microsoft Service Assurance
ms.openlocfilehash: 9317b112d1fa759b1f90e072203e7b8093a432fd
ms.sourcegitcommit: 21ed42335efd37774ff5d17d9586d5546147241a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2021
ms.locfileid: "50120546"
---
# <a name="encryption-for-skype-for-business-onedrive-for-business-sharepoint-online-microsoft-teams-and-exchange-online"></a><span data-ttu-id="7a9b3-103">Skype for Business、OneDrive for Business、SharePoint Online、Microsoft Teams、Exchange Online の暗号化</span><span class="sxs-lookup"><span data-stu-id="7a9b3-103">Encryption for Skype for Business, OneDrive for Business, SharePoint Online, Microsoft Teams, and Exchange Online</span></span>

<span data-ttu-id="7a9b3-104">Microsoft 365 は、物理データ センターのセキュリティ、ネットワーク セキュリティ、アクセス セキュリティ、アプリケーション セキュリティ、データ セキュリティなど、複数のレイヤーで広範な保護を提供する高度なセキュリティ環境です。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-104">Microsoft 365 is a highly secure environment that offers extensive protection in multiple layers: physical data center security, network security, access security, application security, and data security.</span></span>

## <a name="skype-for-business"></a><span data-ttu-id="7a9b3-105">Skype for Business</span><span class="sxs-lookup"><span data-stu-id="7a9b3-105">Skype for Business</span></span>

<span data-ttu-id="7a9b3-106">Skype for Business の顧客データは、会議の参加者によってアップロードされたファイルまたはプレゼンテーションの形式で保存される場合があります。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-106">Skype for Business customer data may be stored at rest in the form of files or presentations that are uploaded by meeting participants.</span></span> <span data-ttu-id="7a9b3-107">Web 会議サーバーは、AES を使用して 256 ビット キーを使用して顧客データを暗号化します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-107">The Web Conferencing server encrypts customer data using AES with a 256-bit key.</span></span> <span data-ttu-id="7a9b3-108">暗号化された顧客データはファイル共有に保存されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-108">The encrypted customer data is stored on a file share.</span></span> <span data-ttu-id="7a9b3-109">顧客データの各部分は、異なるランダムに生成された 256 ビット キーを使用して暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-109">Each piece of customer data is encrypted using a different randomly generated 256-bit key.</span></span> <span data-ttu-id="7a9b3-110">電話会議で顧客データの一部が共有されている場合、Web 会議サーバーは、HTTPS を介して暗号化された顧客データをダウンロードするように会議クライアントに指示します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-110">When a piece of customer data is shared in a conference, the Web Conferencing server instructs the conferencing clients to download the encrypted customer data via HTTPS.</span></span> <span data-ttu-id="7a9b3-111">顧客データを復号化できるよう、対応するキーをクライアントに送信します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-111">It sends the corresponding key to clients so that the customer data can be decrypted.</span></span> <span data-ttu-id="7a9b3-112">また、Web 会議サーバーは、クライアントが会議顧客データにアクセスする前に会議クライアントを認証します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-112">The Web Conferencing server also authenticates conferencing clients before it allows the clients access to conference customer data.</span></span> <span data-ttu-id="7a9b3-113">Web 会議に参加する場合、各会議クライアントは、最初に TLS を使用してフロントエンド サーバー内で実行される会議フォーカス コンポーネントを使用して SIP ダイアログを確立します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-113">When joining a Web conference, each conferencing client establishes a SIP dialog with the conferencing focus component running inside the front-end server over TLS first.</span></span> <span data-ttu-id="7a9b3-114">会議フォーカスは、Web 会議サーバーによって生成された認証 Cookie を会議クライアントに渡します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-114">The conferencing focus passes to the conference client an authentication cookie generated by the Web Conferencing server.</span></span> <span data-ttu-id="7a9b3-115">次に、会議クライアントは、サーバーによって認証される認証 Cookie を表示する Web 会議サーバーに接続します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-115">The conferencing client then connects to the Web Conferencing server presenting the authentication cookie to be authenticated by the server.</span></span>

## <a name="sharepoint-online-and-onedrive-for-business"></a><span data-ttu-id="7a9b3-116">SharePoint Online と OneDrive for Business</span><span class="sxs-lookup"><span data-stu-id="7a9b3-116">SharePoint Online and OneDrive for Business</span></span>

<span data-ttu-id="7a9b3-117">SharePoint Online のすべての顧客ファイルは、常に 1 つのテナントに排他的な一意のファイルごとのキーによって保護されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-117">All customer files in SharePoint Online are protected by unique, per-file keys that are always exclusive to a single tenant.</span></span> <span data-ttu-id="7a9b3-118">キーは、SharePoint Online サービスによって作成および管理されます。または、顧客が顧客キーを使用、作成、および管理する場合です。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-118">The keys are either created and managed by the SharePoint Online service, or when Customer Key is used, created and managed by customers.</span></span> <span data-ttu-id="7a9b3-119">ファイルがアップロードされると、Azure Storage に送信される前に、アップロード要求のコンテキスト内で SharePoint Online によって暗号化が実行されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-119">When a file is uploaded, encryption is performed by SharePoint Online within the context of the upload request, before being sent to Azure storage.</span></span> <span data-ttu-id="7a9b3-120">ファイルがダウンロードされると、SharePoint Online は一意のドキュメント識別子に基づいて暗号化された顧客データを Azure Storage から取得し、ユーザーに送信する前に顧客データを復号化します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-120">When a file is downloaded, SharePoint Online retrieves the encrypted customer data from Azure storage based on the unique document identifier and decrypts the customer data before sending it to the user.</span></span> <span data-ttu-id="7a9b3-121">Azure Storage には、顧客データを解読したり、識別または理解したりする機能はありません。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-121">Azure storage has no ability to decrypt, or even identify or understand the customer data.</span></span> <span data-ttu-id="7a9b3-122">すべての暗号化と復号化は、テナントの分離を強制する同じシステム (Azure Active Directory と SharePoint Online) で行います。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-122">All encryption and decryption happen in the same systems that enforce tenant isolation, which are Azure Active Directory and SharePoint Online.</span></span>

<span data-ttu-id="7a9b3-123">Microsoft 365 のいくつかのワークロードでは、データを SharePoint Online に保存します。たとえば、すべてのファイルを SharePoint Online に格納する Microsoft Teams や、そのストレージに SharePoint Online を使用する OneDrive for Business があります。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-123">Several workloads in Microsoft 365 store data in SharePoint Online, including Microsoft Teams, which stores all files in SharePoint Online, and OneDrive for Business, which uses SharePoint Online for its storage.</span></span> <span data-ttu-id="7a9b3-124">SharePoint Online に保存されている顧客データはすべて暗号化され (1 つ以上の AES 256 ビット キーを使用)、データセンター全体に次のように分散されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-124">All customer data stored in SharePoint Online is encrypted (with one or more AES 256-bit keys) and distributed across the datacenter as follows.</span></span> <span data-ttu-id="7a9b3-125">(この暗号化プロセスのすべての手順は、FIPS 140-2 レベル 2 検証済みです。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-125">(Every step of this encryption process is FIPS 140-2 Level 2 validated.</span></span> <span data-ttu-id="7a9b3-126">FIPS 140-2 コンプライアンスの詳細については [、「FIPS 140-2 Compliance](/previous-versions/sql/sql-server-2008-r2/bb326611(v=sql.105))」を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-126">For additional information about FIPS 140-2 compliance, see [FIPS 140-2 Compliance](/previous-versions/sql/sql-server-2008-r2/bb326611(v=sql.105)).)</span></span>

- <span data-ttu-id="7a9b3-127">各ファイルは、ファイル サイズに応じて 1 つ以上のチャンクに分割されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-127">Each file is split into one or more chunks, depending on file size.</span></span> <span data-ttu-id="7a9b3-128">各チャンクは、独自の一意の AES 256 ビット キーを使用して暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-128">Each chunk is encrypted using its own unique AES 256-bit key.</span></span>
- <span data-ttu-id="7a9b3-129">ファイルが更新される場合、更新は同じ方法で処理されます。変更は 1 つ以上のチャンクに分割され、各チャンクは個別の一意キーで暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-129">When a file is updated, the update is handled in the same way: the change is split into one or more chunks, and each chunk is encrypted with a separate unique key.</span></span>
- <span data-ttu-id="7a9b3-130">これらのチャンク (ファイル、ファイルの一部、更新デルタ) は、複数の Azure ストレージ アカウントにランダムに分散された Blob として Azure ストレージに格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-130">These chunks – files, pieces of files, and update deltas – are stored as blobs in Azure storage that are randomly distributed across multiple Azure storage accounts.</span></span>
- <span data-ttu-id="7a9b3-131">これらの顧客データのチャンクに対する暗号化キーのセット自体は暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-131">The set of encryption keys for these chunks of customer data is itself encrypted.</span></span>

    - <span data-ttu-id="7a9b3-132">BLOB の暗号化に使用されるキーは、SharePoint Online コンテンツ データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-132">The keys used to encrypt the blobs are stored in the SharePoint Online Content Database.</span></span>
    - <span data-ttu-id="7a9b3-133">コンテンツ データベースは、データベース アクセス制御と保存中の暗号化によって保護されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-133">The Content Database is protected by database access controls and encryption at rest.</span></span> <span data-ttu-id="7a9b3-134">暗号化は、Azure [SQL](/sql/relational-databases/security/encryption/transparent-data-encryption-tde) Database で透過的なデータ暗号化 (TDE) [を使用して実行されます](/azure/sql-database/sql-database-technical-overview)。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-134">Encryption is performed using [Transparent Data Encryption](/sql/relational-databases/security/encryption/transparent-data-encryption-tde) (TDE) in [Azure SQL Database](/azure/sql-database/sql-database-technical-overview).</span></span> <span data-ttu-id="7a9b3-135">(Azure SQL データベースは、リレーショナル データ、JSON、空間、XML などの構造をサポートする Microsoft Azure の汎用リレーショナル データベース サービスです。これらのシークレットは、テナント レベルではなく SharePoint Online のサービス レベルです。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-135">(Azure SQL Database is a general-purpose relational database service in Microsoft Azure that supports structures such as relational data, JSON, spatial, and XML.) These secrets are at the service level for SharePoint Online, not at the tenant level.</span></span> <span data-ttu-id="7a9b3-136">これらのシークレット (マスター キーとも呼ばれます) は、キー ストアと呼ばれる別のセキュリティで保護されたリポジトリに格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-136">These secrets (sometimes referred to as the master keys) are stored in a separate secure repository called the Key Store.</span></span> <span data-ttu-id="7a9b3-137">TDE は、アクティブ データベースとデータベース バックアップとトランザクション ログの両方にセキュリティを提供します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-137">TDE provides security at rest for both the active database and the database backups and transaction logs.</span></span>
    - <span data-ttu-id="7a9b3-138">ユーザーがオプションキーを入力すると、顧客キーは Azure Key Vault に格納され、サービスはそのキーを使用してテナント キーを暗号化します。テナント キーはサイト キーの暗号化に使用され、このキーはファイル レベルキーの暗号化に使用されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-138">When customers provide the optional key, the customer key is stored in Azure Key Vault, and the service uses the key to encrypt a tenant key, which is used to encrypt a site key, which is then used to encrypt the file level keys.</span></span> <span data-ttu-id="7a9b3-139">基本的には、顧客がキーを提供するときに新しいキー階層が導入されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-139">Essentially, a new key hierarchy is introduced when the customer provides a key.</span></span>
- <span data-ttu-id="7a9b3-140">ファイルの再アセンブルに使用されるマップは、暗号化されたキーと共に、暗号化されたキーと共に、暗号化解除に必要なマスター キーとは別にコンテンツ データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-140">The map used to re-assemble the file is stored in the Content Database along with the encrypted keys, separately from the master key needed to decrypt them.</span></span>
- <span data-ttu-id="7a9b3-141">各 Azure ストレージ アカウントには、アクセスの種類 (読み取り、書き込み、列挙、削除) ごとに独自の資格情報があります。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-141">Each Azure storage account has its own unique credentials per access type (read, write, enumerate, and delete).</span></span> <span data-ttu-id="7a9b3-142">各資格情報セットはセキュリティが確保されたキー ストアで保管され、定期的に更新されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-142">Each set of credentials is held in the secure Key Store and is regularly refreshed.</span></span> <span data-ttu-id="7a9b3-143">上で説明したように、ストアには 3 種類のストアがあります。それぞれのストアには、それぞれ異なる機能があります。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-143">As described above, there are three different types of stores, each with a distinct function:</span></span>
    - <span data-ttu-id="7a9b3-144">顧客データは、Azure ストレージに暗号化された BLOB として格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-144">Customer data is stored as encrypted blobs in Azure storage.</span></span> <span data-ttu-id="7a9b3-145">顧客データの各チャンクのキーは暗号化され、コンテンツ データベースに個別に格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-145">The key to each chunk of customer data is encrypted and stored separately in the Content Database.</span></span> <span data-ttu-id="7a9b3-146">顧客データ自体には、復号化方法に関する手がかりはありません。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-146">The customer data itself holds no clue as to how it can be decrypted.</span></span>
    - <span data-ttu-id="7a9b3-147">コンテンツ データベースは、SQL Serverデータベースです。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-147">The Content Database is a SQL Server database.</span></span> <span data-ttu-id="7a9b3-148">Azure ストレージに保持されている顧客データ BLOB を見つけて再構成するために必要なマップと、それらの BLOB を暗号化するために必要なキーを保持します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-148">It holds the map required to locate and reassemble the customer data blobs held in Azure storage as well as the keys needed to encrypt those blobs.</span></span> <span data-ttu-id="7a9b3-149">ただし、キーのセット自体は暗号化され (上で説明したように)、別のキー ストアに保持されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-149">However, the set of keys is itself encrypted (as explained above) and held in a separate Key Store.</span></span>
    - <span data-ttu-id="7a9b3-150">キー ストアは、コンテンツ データベースおよび Azure ストレージとは物理的に分離されています。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-150">The Key Store is physically separate from the Content Database and Azure storage.</span></span> <span data-ttu-id="7a9b3-151">各 Azure ストレージ コンテナーの資格情報と、コンテンツ データベースに保持されている暗号化されたキーのセットに対するマスター キーを保持します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-151">It holds the credentials for each Azure storage container and the master key to the set of encrypted keys held in the Content Database.</span></span>

<span data-ttu-id="7a9b3-152">これら 3 つのストレージ コンポーネント (Azure BLOB ストア、コンテンツ データベース、およびキー ストア) は、それぞれ物理的に独立しています。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-152">Each of these three storage components – the Azure blob store, the Content Database, and the Key Store – is physically separate.</span></span> <span data-ttu-id="7a9b3-153">いずれかのコンポーネントに保管されている情報は、それ自体では使用できません。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-153">The information held in any one of the components is unusable on its own.</span></span> <span data-ttu-id="7a9b3-154">3 つのチャンクにアクセスしない場合、チャンクへのキーの取得、キーの暗号化解除によるキーの使用、対応するチャンクへのキーの関連付け、各チャンクの暗号化解除、構成チャンクからのドキュメントの再構築は不可能です。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-154">Without access to all three, it is impossible to retrieve the keys to the chunks, decrypt the keys to make them usable, associate the keys with their corresponding chunks, decrypt each chunk, or reconstruct a document from its constituent chunks.</span></span>

<span data-ttu-id="7a9b3-155">BitLocker 証明書は、データセンター内のコンピューター上の物理ディスク ボリュームを保護し、ファーム キーで保護されたセキュリティで保護されたリポジトリ (SharePoint Online シークレット ストア) に格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-155">BitLocker certificates, which protect the physical disk volumes on machines in the datacenter, are stored in a secure repository (the SharePoint Online secret store) that is protected by the Farm key.</span></span>

<span data-ttu-id="7a9b3-156">BLOB ごとのキーを保護する TDE キーは、次の 2 つの場所に格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-156">The TDE keys that protect the per-blob keys are stored in two locations:</span></span>

- <span data-ttu-id="7a9b3-157">セキュリティで保護されたリポジトリ。BitLocker 証明書が保管され、ファーム キーによって保護されます。そして</span><span class="sxs-lookup"><span data-stu-id="7a9b3-157">The secure repository, which houses the BitLocker certificates and is protected by the Farm Key; and</span></span>
- <span data-ttu-id="7a9b3-158">Azure SQL Database によって管理されるセキュリティで保護されたリポジトリ。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-158">In a secure repository managed by Azure SQL Database.</span></span>

<span data-ttu-id="7a9b3-159">Azure ストレージ コンテナーへのアクセスに使用される資格情報も SharePoint Online シークレット ストアに保持され、必要に応じて各 SharePoint Online ファームに委任されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-159">The credentials used to access the Azure storage containers are also held in the SharePoint Online secret store and delegated to each SharePoint Online farm as needed.</span></span> <span data-ttu-id="7a9b3-160">これらの資格情報は Azure Storage SAS 署名であり、データの読み取りまたは書き込みに使用される個別の資格情報を使用し、ポリシーが適用され、60 日ごとに自動有効期限が切れます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-160">These credentials are Azure storage SAS signatures, with separate credentials used to read or write data, and with policy applied so that they auto-expire every 60 days.</span></span> <span data-ttu-id="7a9b3-161">データの読み取りまたは書き込みには異なる資格情報が使用され (両方ではなく)、SharePoint Online ファームには列挙する権限が付与されません。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-161">Different credentials are used to read or write data (not both) and SharePoint Online farms are not given permissions to enumerate.</span></span>

> [!NOTE]
> <span data-ttu-id="7a9b3-162">米国Office 365 ユーザーの場合、データ BLOB は Azure U.S. Government Storage に格納されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-162">For Office 365 U.S. Government customers, data blobs are stored in Azure U.S. Government Storage.</span></span> <span data-ttu-id="7a9b3-163">さらに、Office 365 U.S. Government の SharePoint Online キーへのアクセスは、特にスクリーンスクリーンされた Office 365 人のスタッフに制限されています。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-163">In addition, access to SharePoint Online keys in Office 365 U.S. Government is limited to Office 365 staff that have been specifically screened.</span></span> <span data-ttu-id="7a9b3-164">Azure U.S. Government の運用スタッフは、データ BLOB の暗号化に使用される SharePoint Online キー ストアにアクセスできません。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-164">Azure U.S. Government operations staff do not have access to the SharePoint Online key store that is used for encrypting data blobs.</span></span>

<span data-ttu-id="7a9b3-165">SharePoint Online と OneDrive for Business でのデータ暗号化の詳細については [、「OneDrive for Business](https://technet.microsoft.com/library/dn905447.aspx)および SharePoint Online でのデータ暗号化」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-165">For more information about data encryption in SharePoint Online and OneDrive for Business, see [Data Encryption in OneDrive for Business and SharePoint Online](https://technet.microsoft.com/library/dn905447.aspx).</span></span>

### <a name="list-items-in-sharepoint-online"></a><span data-ttu-id="7a9b3-166">SharePoint Online のリスト アイテム</span><span class="sxs-lookup"><span data-stu-id="7a9b3-166">List Items in SharePoint Online</span></span>

<span data-ttu-id="7a9b3-167">リスト アイテムは、アドホックで作成される、またはユーザーが作成したリスト内の行、SharePoint Online ブログ内の個々の投稿、SharePoint Online Wiki ページ内のエントリなど、サイト内でより動的に使用できる、より小さな顧客データのチャンクです。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-167">List Items are smaller chunks of customer data that are created ad-hoc or that can live more dynamically within a site, such as rows in a user-created list, individual posts in a SharePoint Online blog, or entries within a SharePoint Online wiki page.</span></span> <span data-ttu-id="7a9b3-168">リスト アイテムはコンテンツ データベース (Azure SQL Database) に格納され、TDE で保護されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-168">List items are stored in the Content Database (Azure SQL Database) and protected with TDE.</span></span>

## <a name="encryption-of-data-in-transit"></a><span data-ttu-id="7a9b3-169">転送中データの暗号化</span><span class="sxs-lookup"><span data-stu-id="7a9b3-169">Encryption of data in transit</span></span>

<span data-ttu-id="7a9b3-170">OneDrive for Business と SharePoint Online では、データがデータセンターに入り、データ センターから退出する 2 つのシナリオがあります。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-170">In OneDrive for Business and SharePoint Online, there are two scenarios in which data enters and exits the datacenters.</span></span>

- <span data-ttu-id="7a9b3-171">**サーバーとのクライアント通信** - インターネット上の SharePoint Online および OneDrive for Business への通信は TLS 接続を使用します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-171">**Client communication with the server** - Communication to SharePoint Online and OneDrive for Business across the Internet uses TLS connections.</span></span>
- <span data-ttu-id="7a9b3-172">**データセンター間のデータ** 移動 - データセンター間でデータを移動する主な理由は、障害復旧を可能にするために geo レプリケーションを使用することです。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-172">**Data movement between datacenters** - The primary reason to move data between datacenters is for geo-replication to enable disaster recovery.</span></span> <span data-ttu-id="7a9b3-173">たとえば、トランザクション SQL Server BLOB ストレージデルタは、このパイプに沿って移動します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-173">For instance, SQL Server transaction logs and blob storage deltas travel along this pipe.</span></span> <span data-ttu-id="7a9b3-174">このデータは既にプライベート ネットワークを使用して送信されているのに対し、クラス最高の暗号化によってさらに保護されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-174">While this data is already transmitted by using a private network, it is further protected with best-in-class encryption.</span></span>

## <a name="exchange-online"></a><span data-ttu-id="7a9b3-175">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="7a9b3-175">Exchange Online</span></span>

<span data-ttu-id="7a9b3-176">Exchange Online は、すべてのメールボックス データに BitLocker を使用し、BitLocker 構成については、暗号化のための [BitLocker で説明されています](/microsoft-365/compliance/office-365-bitlocker-and-distributed-key-manager-for-encryption)。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-176">Exchange Online uses BitLocker for all mailbox data, and the BitLocker configuration is described in [BitLocker for Encryption](/microsoft-365/compliance/office-365-bitlocker-and-distributed-key-manager-for-encryption).</span></span> <span data-ttu-id="7a9b3-177">サービス レベルの暗号化は、メールボックス レベルですべてのメールボックス データを暗号化します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-177">Service-level encryption encrypts all mailbox data at the mailbox level.</span></span> 

<span data-ttu-id="7a9b3-178">Microsoft 365 は、サービスの暗号化に加えて、顧客キーをサポートします。顧客キーは、サービスの暗号化の上に構築されています。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-178">In addition to service-encryption, Microsoft 365 supports Customer Key, which is built on top of service-encryption.</span></span> <span data-ttu-id="7a9b3-179">顧客キーは、Microsoft のロードマップにも含まれています Exchange Online サービスの暗号化のための Microsoft が管理するキー オプションです。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-179">Customer Key is a Microsoft-managed key option for Exchange Online service encryption that is also on Microsoft's Roadmap.</span></span> <span data-ttu-id="7a9b3-180">この暗号化方法では、サーバー管理者とデータの暗号化解除に必要な暗号化キーが分離され、暗号化がデータに直接適用される (論理ディスク ボリュームで暗号化を適用する BitLocker とは対照的に) Exchange サーバーからコピーされた顧客データは暗号化されたままなので、BitLocker では保護が強化されません。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-180">This method of encryption provides increased protection not afforded by BitLocker because it provides separation of server administrators and the cryptographic keys necessary for decryption of data, and because the encryption is applied directly to the data (in contrast with BitLocker, which applies encryption at the logical disk volume) any customer data copied from an Exchange server remains encrypted.</span></span>

<span data-ttu-id="7a9b3-181">Exchange Online サービスの暗号化のスコープは、Exchange Online 内に保存されている顧客データです。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-181">The scope for Exchange Online service encryption is customer data that is stored at rest within Exchange Online.</span></span> <span data-ttu-id="7a9b3-182">(Skype for Business は、ユーザーの Exchange Online メールボックス内にユーザーが生成したコンテンツのほぼすべてを保存するため、Exchange Online のサービス暗号化機能を継承します)。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-182">(Skype for Business stores nearly all user-generated content within the user's Exchange Online mailbox and therefore inherits the service encryption feature of Exchange Online.)</span></span>


## <a name="microsoft-teams"></a><span data-ttu-id="7a9b3-183">Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="7a9b3-183">Microsoft Teams</span></span>

<span data-ttu-id="7a9b3-184">Teams では、インスタント メッセージの暗号化に TLS と MTLS を使用します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-184">Teams uses TLS and MTLS to encrypt instant messages.</span></span> <span data-ttu-id="7a9b3-185">すべてのサーバー間トラフィックでは、トラフィックが内部ネットワークに限定されているのか、内部ネットワーク境界を越えるのかにかかわらず、MTLS が必要です。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-185">All server-to-server traffic requires MTLS, regardless of whether the traffic is confined to the internal network or crosses the internal network perimeter.</span></span>

<span data-ttu-id="7a9b3-186">次の表に、Teams で使用されるプロトコルの概要を示します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-186">This table summarizes the protocols used by Teams.</span></span>

|<span data-ttu-id="7a9b3-187">**トラフィックの種類**</span><span class="sxs-lookup"><span data-stu-id="7a9b3-187">**Traffic type**</span></span>|<span data-ttu-id="7a9b3-188">**暗号化**</span><span class="sxs-lookup"><span data-stu-id="7a9b3-188">**Encrypted by**</span></span>|
|:-----|:-----|
|<span data-ttu-id="7a9b3-189">サーバー間</span><span class="sxs-lookup"><span data-stu-id="7a9b3-189">Server-to-server</span></span>|<span data-ttu-id="7a9b3-190">MTLS</span><span class="sxs-lookup"><span data-stu-id="7a9b3-190">MTLS</span></span>|
|<span data-ttu-id="7a9b3-191">クライアントからサーバー (例:</span><span class="sxs-lookup"><span data-stu-id="7a9b3-191">Client-to-server (ex.</span></span> <span data-ttu-id="7a9b3-192">インスタント メッセージングとプレゼンス)</span><span class="sxs-lookup"><span data-stu-id="7a9b3-192">instant messaging and presence)</span></span>|<span data-ttu-id="7a9b3-193">TLS</span><span class="sxs-lookup"><span data-stu-id="7a9b3-193">TLS</span></span>|
|<span data-ttu-id="7a9b3-194">メディア フロー (例:</span><span class="sxs-lookup"><span data-stu-id="7a9b3-194">Media flows (ex.</span></span> <span data-ttu-id="7a9b3-195">メディアのオーディオとビデオの共有)</span><span class="sxs-lookup"><span data-stu-id="7a9b3-195">audio and video sharing of media)</span></span>|<span data-ttu-id="7a9b3-196">TLS</span><span class="sxs-lookup"><span data-stu-id="7a9b3-196">TLS</span></span>|
|<span data-ttu-id="7a9b3-197">メディアのオーディオとビデオの共有</span><span class="sxs-lookup"><span data-stu-id="7a9b3-197">Audio and video sharing of media</span></span>|<span data-ttu-id="7a9b3-198">SRTP/TLS</span><span class="sxs-lookup"><span data-stu-id="7a9b3-198">SRTP/TLS</span></span>|
|<span data-ttu-id="7a9b3-199">通知</span><span class="sxs-lookup"><span data-stu-id="7a9b3-199">Signaling</span></span>|<span data-ttu-id="7a9b3-200">TLS</span><span class="sxs-lookup"><span data-stu-id="7a9b3-200">TLS</span></span>|

#### <a name="media-encryption"></a><span data-ttu-id="7a9b3-201">メディアの暗号化</span><span class="sxs-lookup"><span data-stu-id="7a9b3-201">Media Encryption</span></span>

<span data-ttu-id="7a9b3-202">メディア トラフィックは、RTP トラフィックに機密性、認証、リプレイ攻撃保護を提供する Real-Time トランスポート プロトコル (RTP) のプロファイルである Secure RTP (SRTP) を使用して暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-202">Media traffic is encrypted using Secure RTP (SRTP), a profile of Real-Time Transport Protocol (RTP) that provides confidentiality, authentication, and replay attack protection to RTP traffic.</span></span> <span data-ttu-id="7a9b3-203">SRTP は、セキュリティで保護された乱数ジェネレーターを使用して生成されたセッション キーを使用し、信号 TLS チャネルを使用して交換します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-203">SRTP uses a session key generated by using a secure random number generator and is exchanged using the signaling TLS channel.</span></span> <span data-ttu-id="7a9b3-204">クライアント間のメディア トラフィックは、クライアントとサーバー間の接続信号を介してネゴシエートされますが、クライアントからクライアントに直接送信する場合は SRTP を使用して暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-204">Client-to-client media traffic is negotiated through a client-to-server connection signaling but is encrypted using SRTP when going client-to-client directly.</span></span>

<span data-ttu-id="7a9b3-205">Teams は、TURN を使用したメディア リレーへの安全なアクセスのために資格情報ベースのトークンを使用します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-205">Teams uses a credentials-based token for secure access to media relays over TURN.</span></span> <span data-ttu-id="7a9b3-206">メディア リレーは、TLS でセキュリティ保護されたチャネルを使用してトークンを交換します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-206">Media relays exchange the token over a TLS-secured channel.</span></span>

#### <a name="fips"></a><span data-ttu-id="7a9b3-207">FIPS</span><span class="sxs-lookup"><span data-stu-id="7a9b3-207">FIPS</span></span>

<span data-ttu-id="7a9b3-208">Teams は、暗号化キー交換に FIPS (Federal Information Processing Standard) 準拠アルゴリズムを使用します。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-208">Teams uses FIPS (Federal Information Processing Standard) compliant algorithms for encryption key exchanges.</span></span> <span data-ttu-id="7a9b3-209">FIPS の実装の詳細については [、Federal Information Processing Standard (FIPS) Publication 140-2 を参照してください](/microsoft-365/compliance/offering-fips-140-2)。</span><span class="sxs-lookup"><span data-stu-id="7a9b3-209">For more information on the implementation of FIPS, please see [Federal Information Processing Standard (FIPS) Publication 140-2](/microsoft-365/compliance/offering-fips-140-2).</span></span>
